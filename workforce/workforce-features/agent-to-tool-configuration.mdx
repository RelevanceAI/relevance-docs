---
title: "Agent to Tool Configuration"
description: "Agent to Tool configuration is a powerful feature within Workforce that enables you to establish connections between your AI agents and the tools they need to complete tasks. "
sidebarTitle: "Agent to Tool Configuration"
---

## Understanding Agent to Tool Connections

When you connect an agent to a tool in Workforce, you're creating a pathway for your agent to access specific functionality. This connection allows your agent to:

- Make decisions about when to use particular tools
- Pass relevant information to tools for processing
- Receive and interpret results from tool operations
- Continue workflows based on tool outputs

## Setting Up Agent to Tool Configurations

To configure an Agent to Tool connection in your workforce:

1. Open your workforce in the Workforce interface
2. Locate the agent node you want to connect to a tool
3. Click and drag from the agent's output connector to the input connector of your desired tool
4. Once connected, click on the connecting line (edge) to access configuration settings

## Configuration Options

### Connection type

When configuring an Agent to Tool connection, you have two primary communication style options:

#### AI connection

This option gives your agent autonomy to determine when to use the connected tool based on context and need.

- **Communication Settings**: Provide natural language instructions explaining when and how the agent should use this tool. For example: "Use this email tool when you need to send important updates to clients or when follow-up communication is required."
- **Approval mode**: Configure how the agent makes decisions about tool usage:
  - **Auto run**: The agent will use the tool without requiring approval
  - **Approval required**: The agent will draft the tool request but wait for human approval before execution
  - **Let agent decide**: The agent will determine whether to auto-run or request approval based on confidence level
  - **Max auto runs**: Set limits on how many times the agent can automatically use the tool without intervention

#### Next step

This option creates a mandatory connection where the agent must pass information to the tool as part of the workflow.

- **Task Continuity**: Choose between:
  - **Create new task**: Each tool execution begins a fresh task instance
  - **Continue same task**: The tool execution remains part of the original task flow

## Understanding Tool Executions and Autonomy Limits

When configuring Agent to Tool connections, it's critical to understand how tool executions accumulate toward your Agent Autonomy Limit:

<Warning>
  The Agent Autonomy Limit tracks **all consecutive tool executions**, not distinct tool invocations. This means tool retries count as separate executions toward your autonomy limit.
</Warning>

### How Tool Executions Count

Every tool execution counts toward the autonomy limit, including:

- **Initial tool runs:** The first time a tool executes
- **Tool retries:** Each retry attempt if the tool is configured to retry on failure
- **Multiple tools in sequence:** All tool executions accumulate across your workflow

**Example:** If Tool A has a max auto-run limit of 3 and executes 3 times (including retries), then Tool B runs 7 times (including retries), that equals an autonomy limit of 10 (3 + 7 = 10).

### Impact on Credits and Costs

Each tool execution—including retries—also counts as a separate action for billing:

- **Actions/Credits:** Every execution consumes credits or actions from your plan
- **Vendor Credits:** Each execution that uses an LLM or external API incurs additional costs
- **Accumulated Costs:** Multiple retries can significantly increase the total cost of a workflow

<Tip>
  When planning your Agent to Tool configurations, calculate the maximum possible tool executions by considering all potential retries. Set your Agent Autonomy Limit higher than this total to ensure your agent can complete workflows without hitting the limit prematurely.
</Tip>

## Best Practices for Agent to Tool Configuration

### 1. Clear Instructions

When using "Let agent decide" mode, provide specific, unambiguous instructions about when the tool should be used. For example:

> Use this data analysis tool when:
>
> - The user requests statistical insights
> - Raw data needs to be transformed into visualizations
> - Patterns or trends need to be identified in datasets

### 2. Appropriate Permission Levels

Match permission settings to the sensitivity and impact of the tool:

- Use "Approval required" for tools that:
  - Make external communications
  - Modify important data
  - Incur costs or use credits
  - Make decisions with business impact
- Use "Auto run" for tools that:
  - Perform internal data retrieval
  - Execute low-risk, repetitive tasks
  - Enhance the agent's knowledge without external effects

### 3. Account for Retries in Autonomy Planning

When configuring max auto runs and autonomy limits:

- **Review retry settings:** Check if your tools have retry configurations enabled
- **Calculate maximum executions:** Add up all potential retries across all tools in your workflow
- **Set appropriate limits:** Ensure your autonomy limit accommodates all potential executions
- **Monitor actual usage:** Review your agent's performance to identify tools that frequently retry

**Example calculation:**
- Tool A: Max 2 retries = up to 2 executions
- Tool B: Max 3 retries = up to 3 executions
- Tool C: Max 1 retry = up to 1 execution
- **Minimum autonomy limit needed:** 6 executions

### 4. Workflow Optimization

Consider how tool connections affect the overall workflow:

- **Sequential Processing**: Connect tools in a logical sequence when tasks need to follow a specific order
- **Conditional Branching**: Use agent decision points before tools when different scenarios require different tool selections
- **Feedback Loops**: Create connections from tools back to agents when results need evaluation before proceeding

## Troubleshooting Agent to Tool Connections

### Common Issues and Solutions

1. **Agent not using connected tool**
   - Check that the connection line is properly established
   - Review the communication instructions for clarity
   - Ensure the agent has the necessary context to recognize when to use the tool
2. **Tool execution failing**
   - Verify the tool's configuration and required inputs
   - Check that the agent is passing data in the expected format
   - Review tool logs for specific error messages
3. **Excessive tool usage**
   - Set appropriate "Max auto runs" limits
   - Make instructions more specific about when to use the tool
   - Consider changing to "Approval required" mode temporarily
4. **Hitting autonomy limits unexpectedly**
   - Review retry configurations for all tools in the workflow
   - Check if tools are retrying more frequently than expected
   - Increase the Agent Autonomy Limit to accommodate retries
   - Address underlying issues causing tool failures and retries

## Advanced Agent to Tool Configurations

### Chaining Multiple Tools

You can create sophisticated workflows by connecting an agent to multiple tools in sequence:

1. Connect your agent to the first tool
2. Connect the output of the first tool to a second agent or directly to another tool
3. Configure each connection with appropriate settings

This approach allows for complex multi-step processes where each tool performs a specific function in the overall workflow.

<Note>
  When chaining multiple tools, remember that each tool's executions (including retries) accumulate toward the same Agent Autonomy Limit. Plan accordingly to avoid hitting the limit mid-workflow.
</Note>

### Dynamic Tool Selection

When an agent needs to choose between multiple tools based on context:

1. Connect the agent to each potential tool
2. Use "Let agent decide" mode for all connections
3. Provide clear, distinctive instructions for when to use each tool

The agent will evaluate the situation and select the appropriate tool based on your instructions.

## Related Features

- [Trigger to Agent Configuration](/workforce/workforce-features/trigger-to-agent-configuration): Learn how to configure the initial triggers that activate your agents
- [Tool to Tool Configuration](/workforce/workforce-features/tool-to-tool-configuration): Discover how to connect tools directly to other tools for automated workflows
- [Condition to Tool Configuration](/workforce/workforce-features/condition-to-tool-configuration): Explore how to add conditional logic to your tool executions
- [Edge Settings](/workforce/build-an-ai-workforce/edge-settings): Understand how edge settings control connections between nodes
- [Agent Settings - Autonomy Limit](/agent/build-your-agent/agent-settings/general#agent-autonomy-limit): Learn more about configuring the Agent Autonomy Limit

## Conclusion

Agent to Tool configuration is a fundamental aspect of building effective AI workforces. By thoughtfully designing these connections and understanding how tool executions accumulate toward autonomy limits, you can create intelligent workflows where agents leverage tools appropriately to accomplish complex tasks. 

Whether you prefer giving your agents autonomy with "Let agent decide" or creating structured processes with "Forced handover," the configuration options in Workforce Builder provide the flexibility to match your specific business needs. Remember to account for tool retries when planning your autonomy limits to ensure smooth, uninterrupted workflow execution.
