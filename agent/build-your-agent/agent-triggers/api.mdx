---
title: "API Triggers"
description: "Build your own API Triggers"
sidebarTitle: "API Triggers"
---

## API Triggers for Agents

API Triggers empower developers to programmatically activate Relevance AI agents, creating powerful automation workflows that integrate seamlessly with your existing systems and applications.

## Overview

API Triggers allow you to initiate agent tasks directly through the Relevance AI API, enabling programmatic control over when and how your agents are activated. This capability is particularly valuable for developers and technical teams who want to incorporate AI agents into their applications, services, or automated workflows.

With API Triggers, you can build sophisticated systems where your agents respond to events in your custom applications, process data from proprietary systems, or execute tasks based on complex business logic that you define.

## How API Triggers Work

API Triggers function by exposing endpoints in the Relevance AI API that allow you to:

1. Initiate a new conversation with an agent
2. Send messages to an existing conversation
3. Provide context and data for the agent to process
4. Receive responses and actions taken by the agent

<Note>
  When triggering an agent via API, the response is not returned directly. Instead, the result must be sent to a specified destination, such as uploading the final output to Google Sheets.
</Note>

## Setting Up API Triggers in your Agent

To set up and use API Triggers for your agents:

1. Navigate to the Agents page and choose the specific agent you want to setup the custom API trigger for.
2. In the Build tab, click on "Triggers"
3. Select "API Trigger" from the available trigger options
4. Configure the API Trigger settings according to your requirements
5. Save your configuration

### Setting up your API trigger in your Codebase

```http
POST https://api-f1db6c.stack.tryrelevance.com/latest/agents/trigger
```

### Save your API key somewhere safe

<Warning>
  You'll need to **generate an API key** (Authorization Token) to authenticate your requests. Make sure to save your API key somewhere safe. Once generated, you won't be able to view it again. However, you can regenerate one at any time.
</Warning>

<Tip>
  To find your **Agent ID**, you can ask your agent directly in the chat ("What is your agent ID?"). Or, you can check the URL. When your agent is open, look at the URL in your browser. The agent ID is the second long code after the region code in the URL structure: Example: https://app.relevanceai.com/agents/{region}/{project_id}/{agent_id}/edit
</Tip>

## Request Body

```json
{
  "message": {
    "role": "user",
    "content": "Hello"
  },
  "agent_id": "[YOUR_AGENT_ID_GOES_HERE]"
}
```

## Example Usage (Choose a method your prefer)

### cURL

```bash
curl -X POST \
  -H "Content-Type: application/json" \
  -H "Authorization: [YOUR_API_KEY]" \
  -d '{"message":{"role":"user","content":"Hello"},"agent_id":"[YOUR_AGENT_ID_GOES_HERE]"}' \
  https://api-f1db6c.stack.tryrelevance.com/latest/agents/trigger
```

### JavaScript (Fetch)

```js
fetch('https://api-f1db6c.stack.tryrelevance.com/latest/agents/trigger', {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "[YOUR_API_KEY]"
  },
  body: JSON.stringify({
    message: { role: "user", content: "Hello" },
    agent_id: "[YOUR_AGENT_ID_GOES_HERE]"
  })
});
```

### Python (requests)

```python
import requests
import json

requests.post(
  'https://api-f1db6c.stack.tryrelevance.com/latest/agents/trigger',
  headers={
    "Content-Type": "application/json",
    "Authorization": "[YOUR_API_KEY]"
  },
  data=json.dumps({
    "message": { "role": "user", "content": "Hello" },
    "agent_id": "[YOUR_AGENT_ID_GOES_HERE]"
  })
)
```

## Best Practices for API Triggers

1. **Error Handling**: Implement robust error handling in your API integration code
2. **Rate Limiting**: Be mindful of API rate limits and implement appropriate throttling
3. **Security**: Store API keys securely and use environment variables rather than hardcoding them
4. **Monitoring**: Set up monitoring for your API trigger usage to detect issues early
5. **Testing**: Thoroughly test your API trigger implementation in a development environment before deploying to production

## Frequently asked questions (FAQs)

<AccordionGroup>
  <Accordion title="What programming languages can I use with API Triggers?">
    You can use any programming language capable of making HTTP requests. Our examples use Python, but the API is language-agnostic.
  </Accordion>
  <Accordion title="Are there rate limits for API Triggers?">
    Yes, API usage is subject to rate limits based on your subscription plan. Please refer to your plan details for specific limitations.
  </Accordion>
  <Accordion title="Can I use API Triggers with serverless functions?">
    Absolutely\! API Triggers work well with serverless architectures like AWS Lambda, Google Cloud Functions, or Azure Functions.
  </Accordion>
  <Accordion title="How secure are API Triggers?">
    API Triggers use industry-standard authentication and encryption. All API requests must be authenticated with your API key, and all data is transmitted over HTTPS.
  </Accordion>
</AccordionGroup>
