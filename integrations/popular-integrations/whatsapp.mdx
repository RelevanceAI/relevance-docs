---
title: 'WhatsApp'
description: "Connect your WhatsApp account to Relevance AI and enable your agents to communicate directly with customers through one of the world's most popular messaging platforms."
sidebarTitle: 'WhatsApp Personal'
---

## Connect the integration

Connecting your WhatsApp account to Relevance AI is a straightforward process:

1. Go to the "Integrations & API Keys" page in the sidebar.
2. Click on "WhatsApp".
3. Click on the "Add Integration" button.
4. In the pop-up window, sign into your WhatsApp Business account.
5. Follow the authorization steps to grant Relevance AI access to your WhatsApp account.
6. Once connected, you'll see your WhatsApp account listed under active integrations.

## Setting up triggers

WhatsApp Integration can be configured as a trigger for your AI agents, allowing them to automatically respond when messages are received through WhatsApp.

<Warning>The WhatsApp Trigger is considered a Premium trigger, and is available on the Pro plan (new pricing) and above. If you're on the old Pro plan, you'll gain access to this trigger when you move to the new Pro plan on your first renewal on or after December 1, 2025.</Warning>

<div
  style={{
    width: '100%',
    position: 'relative',
    paddingTop: '56.25%',
  }}>
  <iframe
    src="https://app.supademo.com/embed/cmac0vcy86yt013m0f787o00u?embed_v=2"
    frameBorder="0"
    title="WhatsApp Trigger Setup"
    allow="clipboard-write; fullscreen"
    webkitAllowFullscreen="true"
    mozAllowFullscreen="true"
    allowFullscreen
    style={{
      position: 'absolute',
      top: 0,left: 0, width: '100%', height: '100%',
      border: '3px solid #5E43CE',
      borderRadius: '10px',
    }}/>
</div>

To set up WhatsApp as a trigger:

1. Create a new agent or edit an existing one.
2. Navigate to the "Triggers" section in "Agent Profile".
3. Select "WhatsApp" from the available triggers.
4. Choose the WhatsApp account you want to connect to this agent.
5. Configure trigger conditions (optional):
   - Respond to all incoming messages
   - Respond only to specific contacts or groups
   - Respond based on message content filters
6. Save your trigger configuration.

Once set up, your agent will automatically activate when new WhatsApp messages that match your trigger conditions are received, enabling real-time customer engagement.

## Understanding Tasks and Conversation Continuity

When your agent receives WhatsApp messages, it's important to understand how tasks are created and how conversation continuity is maintained.

### Task Creation

Each new WhatsApp message creates a new task (execution) for your agent. This happens every time someone sends a message, even in an ongoing conversation. Your agent doesn't run continuously - instead, it executes once per message received.

### Conversation ID Handling

Despite each message creating a new task, conversation continuity is automatically maintained through conversation IDs:

- Messages from the same WhatsApp number (same `wa_id`) will reuse the same conversation ID
- The system automatically looks up existing conversations based on the sender's WhatsApp ID
- If a conversation is found, it uses that conversation ID; if not, it creates a new one
- Your agent will have access to the full conversation history from previous messages

### How It Works

Here's the flow when a WhatsApp message is received:

<Steps>
  <Step title="Message Received">
    Person sends WhatsApp message → New task is created
  </Step>
  <Step title="Conversation Lookup">
    System checks: "Have we seen this WhatsApp number before for this agent?"
  </Step>
  <Step title="Conversation ID Assignment">
    - If **YES** → Reuses existing conversation ID (maintains full conversation history)
    - If **NO** → Creates new conversation ID
  </Step>
  <Step title="Agent Execution">
    Agent executes with access to full conversation context
  </Step>
</Steps>

### Key Points

<AccordionGroup>
  <Accordion title="Each message = New task" icon="bolt">
    A new execution is triggered for every message received. Your agent doesn't run continuously - it executes once per incoming message.
  </Accordion>
  <Accordion title="Same sender = Same conversation ID" icon="messages">
    Conversation continuity is maintained automatically. Messages from the same WhatsApp number will always use the same conversation ID.
  </Accordion>
  <Accordion title="Full history available" icon="clock-rotate-left">
    Your agent has access to the complete conversation history from previous messages, allowing for contextual responses.
  </Accordion>
  <Accordion title="Agent-scoped conversations" icon="user-gear">
    The conversation ID is scoped per agent. The same WhatsApp number on different agents will have different conversation IDs.
  </Accordion>
</AccordionGroup>

### Using Trigger Data for Replies

When building agents that reply to WhatsApp messages, you'll need to use the sender's information from the trigger data:

<Note>
The `chat_id` parameter (the sender's WhatsApp ID/`wa_id`) is available in the trigger data. This is automatically provided when your agent receives a message. Use this `chat_id` when calling the "Send Message" or "Send Message in Chat" tools to reply to the correct conversation thread.
</Note>

This ensures your agent's replies are sent to the right person and maintain the conversation thread.

## Tools & Tool Steps

WhatsApp integration provides powerful tools and actions that your agents can use to engage with customers. These actions can be incorporated into your agent's workflow at any point, not just as triggers.

Here are some of the key WhatsApp actions available:

### Send WhatsApp Message
Send text messages to individual contacts or groups.

<Note>
**When replying to incoming WhatsApp messages:** Use the `chat_id` (sender's WhatsApp ID/`wa_id`) from the trigger data. This ensures your message is sent to the correct conversation thread and maintains conversation continuity.
</Note>

Input parameters:
- Recipient phone number or group ID
- Message content
- Optional: Attachments

### Send WhatsApp Media

Share images, documents, or other media files with your contacts.

Input parameters:
- Recipient phone number or group ID
- Media type (image, document, audio, video)
- Media URL or file
- Optional: Caption

### Send WhatsApp Template Message
Use pre-approved message templates for business communications.

Input parameters:
- Recipient phone number
- Template name
- Template parameters

### Get WhatsApp Conversation History
Retrieve previous messages from a specific conversation.

Input parameters:
- Contact phone number
- Optional: Time range

### Mark WhatsApp Message as Read
Update the read status of messages.

Input parameters:
- Message ID

These are just a few examples of the many WhatsApp actions available. Your agents can leverage these tools to create sophisticated customer engagement workflows, from automated support responses to personalized marketing campaigns.

## Use the integration's API tool step (advanced)

In addition to the tools and actions available in the directory, you can build custom tools that perform WhatsApp activities by using the WhatsApp API Call tool step:

1. Create a new tool.
2. Scroll down to Tool-steps.
3. Add WhatsApp API tool-step.
4. Select your connected WhatsApp account in the dropdown.

This advanced approach gives you direct access to the WhatsApp Business API, allowing for more complex and customized interactions:

### Example API call:
```json
{
  "endpoint": "/messages",
  "method": "POST",
  "body": {
    "to": "{{recipient_number}}",
    "type": "text",
    "text": {
      "body": "{{message_content}}"
    }
  }
}
```

## Frequently asked questions (FAQs)

<AccordionGroup>
  <Accordion title="What types of WhatsApp accounts are supported?">Relevance AI supports both WhatsApp Personal and Business accounts. To learn more about the Business accounts integration, head [here](/integrations/popular-integrations/whatsapp-for-business).</Accordion>
  <Accordion title="Are there message volume limitations?">Message volumes are subject to WhatsApp's own policies and rate limits. The Relevance AI platform itself doesn't impose additional limits beyond your plan's credit allocation.</Accordion>
  <Accordion title="Can I use WhatsApp for bulk messaging?">Yes, but you must comply with WhatsApp's business policies regarding bulk messaging and ensure you have proper opt-ins from recipients.</Accordion>
  <Accordion title="How secure are WhatsApp conversations through Relevance AI?">All WhatsApp communications maintain end-to-end encryption. Relevance AI adheres to strict security protocols to ensure your conversation data remains protected.</Accordion>
  <Accordion title="Can multiple agents use the same WhatsApp account?">Yes, you can connect multiple agents to the same WhatsApp account, but you should configure triggers carefully to avoid conflicts.</Accordion>
</AccordionGroup>
